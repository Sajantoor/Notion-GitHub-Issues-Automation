name: "GitHub Notion Issues Automation"
permissions:
    issues: read

# Run code on issue or issue comment
on: 
  [issues, issue_comment] # TODO: Label

jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [12.x]
    steps:
    - uses: actions/checkout@v1
    - name: Use Node.js ${{ matrix.node-version }}
      uses: actions/setup-node@v1
      with:
        node-version: ${{ matrix.node-version }}
    - name: Build
      run: |
        npm install
    - name: Start
      run: |
        npm start
      env: 
        repo: ${{ github.repository }} 
        NOTION_API_KEY: ${{ secrets.NOTION_API_KEY }}
        NOTION_DATABASE: ${{ secrets.NOTION_DATABASE }}
        NOTION_PAGE_ID: ${{ secrets.NOTION_PAGE_ID }}

# https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions