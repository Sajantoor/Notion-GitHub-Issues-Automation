name: "GitHub Notion Issues Automation"
description: "Gets issues from GitHub and puts them in your Notion database automatically using GitHub Actions."
icon: "activity"
color: "gray-dark"

permissions:
    issues: read

# Run code on issue or issue comment
on: 
  [issues, issue_comment] # TODO: Label

jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [12.x]
    steps:
    - uses: actions/checkout@v1
    - name: Use Node.js ${{ matrix.node-version }}
      uses: actions/setup-node@v1
      with:
        node-version: ${{ matrix.node-version }}
      env: 
        repo: ${{ GITHUB_REPOSITORY }} 
        NOTION_API_KEY: ${{ secrets.NOTION_API_KEY }}
        NOTION_DATABASE: ${{ secrets.NOTION_DATABASE }}
        NOTION_PAGE_ID: ${{ secrets.NOTION_PAGE_ID }}
    - name: Build
      run: |
        npm install
    - name: Start
      run: |
        npm start 

# https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions